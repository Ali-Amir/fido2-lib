<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Fido2Lib - Documentation</title>

    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc.css">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="Fido2AssertionResult.html">Fido2AssertionResult</a></li><li><a href="Fido2AttestationResult.html">Fido2AttestationResult</a></li><li><a href="Fido2Lib.html">Fido2Lib</a><ul class='methods'><li data-type='method'><a href="Fido2Lib.html#.addAttestationFormat">addAttestationFormat</a></li><li data-type='method'><a href="Fido2Lib.html#.deleteAllAttestationFormats">deleteAllAttestationFormats</a></li><li data-type='method'><a href="Fido2Lib.html#.parseAttestation">parseAttestation</a></li><li data-type='method'><a href="Fido2Lib.html#.validateAttestation">validateAttestation</a></li><li data-type='method'><a href="Fido2Lib.html#assertionOptions">assertionOptions</a></li><li data-type='method'><a href="Fido2Lib.html#assertionResult">assertionResult</a></li><li data-type='method'><a href="Fido2Lib.html#attestationOptions">attestationOptions</a></li><li data-type='method'><a href="Fido2Lib.html#attestationResult">attestationResult</a></li></ul></li><li><a href="Fido2Result.html">Fido2Result</a></li></ul><h3>Global</h3><ul><li><a href="global.html#parseAttestationObject">parseAttestationObject</a></li><li><a href="global.html#parseClientResponse">parseClientResponse</a></li></ul>
</nav>

<div id="main">
    
    <h1 class="page-title">Fido2Lib</h1>
    

    




<section>

<header>
    
        <h2>
        Fido2Lib
        </h2>
        
            <div class="class-description"><p>The main FIDO2 server class</p></div>
        
    
</header>

<article>
    <div class="container-overview">
    
        

    
    <h2>Constructor</h2>
    

    <h4 class="name" id="Fido2Lib"><span class="type-signature"></span>new Fido2Lib<span class="signature">(opts)</span><span class="type-signature"></span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="main.js.html">main.js</a>, <a href="main.js.html#line18">line 18</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description">
    <p>Creates a FIDO2 server class</p>
</div>











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>opts</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last"><p>Options for the server</p>
                <h6>Properties</h6>
                

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>timeout</code></td>
            

            <td class="type">
            
                
<span class="param-type">Number</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    <code>60000</code>
                
                </td>
            

            <td class="description last"><p>The amount of time to wait, in milliseconds, before a call has timed out</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>rpId</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    <code>"localhost"</code>
                
                </td>
            

            <td class="description last"><p>The name of the server</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>rpName</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    <code>"Anonymous Service"</code>
                
                </td>
            

            <td class="description last"><p>The name of the server</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>rpIcon</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last"><p>A URL for the service's icon. Can be a <a href="https://tools.ietf.org/html/rfc2397">RFC 2397</a> data URL.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>challengeSize</code></td>
            

            <td class="type">
            
                
<span class="param-type">Number</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    <code>64</code>
                
                </td>
            

            <td class="description last"><p>The number of bytes to use for the challenge</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>authenticatorSelectionCriteria</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last"><p>An object describing what types of authenticators are allowed to register with the service.
See <a href="https://w3.org/TR/webauthn/#authenticatorSelection">AuthenticatorSelectionCriteria</a> in the WebAuthn spec for details.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>authenticatorAttachment</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last"><p>Indicates whether authenticators should be part of the OS (&quot;platform&quot;), or can be roaming authenticators (&quot;cross-platform&quot;)</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>authenticatorRequireResidentKey</code></td>
            

            <td class="type">
            
                
<span class="param-type">Boolean</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last"><p>Indicates whether authenticators must store the key internally (true) or if they can use a KDF to generate keys</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>authenticatorUserVerification</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last"><p>Indicates whether user verification should be performed. Options are &quot;required&quot;, &quot;preferred&quot;, or &quot;discouraged&quot;.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>attestation</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    <code>"direct"</code>
                
                </td>
            

            <td class="description last"><p>The preferred attestation type to be used.
See [AttestationConveyancePreference]{https://w3.org/TR/webauthn/#enumdef-attestationconveyancepreference} in the WebAuthn spec</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>cryptoParams</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;Number></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last"><p>A list of COSE algorithm identifiers (e.g. -7)
ordered by the preference in which the authenticator should use them.</p></td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    
    </tbody>
</table>
















    
    </div>

    

    

    

     

    

    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    <h4 class="name" id=".addAttestationFormat"><span class="type-signature">(static) </span>addAttestationFormat<span class="signature">(fmt, parseFn, validateFn)</span><span class="type-signature"></span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="main.js.html">main.js</a>, <a href="main.js.html#line289">line 289</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description">
    <p>Adds a new attestation format that will automatically be recognized and parsed
for any future Fido2CreateRequest messages</p>
</div>











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>fmt</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last"><p>The name of the attestation format, as it appears in the
ARIN registry and / or as it will appear in the Fido2CreateRequest
message that is received</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>parseFn</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"><p>The function that will be called to parse the
attestation format. It will receive the <code>attStmt</code> as a parameter and will be
called from the context (<code>this</code>) of the <code>Fido2CreateRequest</code></p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>validateFn</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"><p>The function that will be called to validate the
attestation format. It will receive no arguments, as all the necessary
information for validating the attestation statement will be contained in the
calling context (<code>this</code>).</p></td>
        </tr>

    
    </tbody>
</table>
















        
            

    

    <h4 class="name" id=".deleteAllAttestationFormats"><span class="type-signature">(static) </span>deleteAllAttestationFormats<span class="signature">()</span><span class="type-signature"></span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="main.js.html">main.js</a>, <a href="main.js.html#line319">line 319</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description">
    <p>Deletes all currently registered attestation formats.</p>
</div>

























        
            

    

    <h4 class="name" id=".parseAttestation"><span class="type-signature">(static) </span>parseAttestation<span class="signature">(fmt, attStmt)</span><span class="type-signature"> &rarr; {Map}</span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="main.js.html">main.js</a>, <a href="main.js.html#line334">line 334</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description">
    <p>Parses an attestation statememnt of the format specified</p>
</div>











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>fmt</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last"><p>The name of the format to be parsed, as specified in the
ARIN registry of attestation formats.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>attStmt</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last"><p>The attestation object to be parsed.</p></td>
        </tr>

    
    </tbody>
</table>












<h5>Throws:</h5>
<ul>
        <li>

<dl>
    <dt>
        <div class="param-desc">
        <p>when a field cannot be parsed or verified.</p>
        </div>
    </dt>
    <dd></dd>
    <dt>
        <dl>
            <dt>
                Type
            </dt>
            <dd>
                
<span class="param-type">Error</span>


            </dd>
        </dl>
    </dt>
    <dd></dd>
</dl>

</li>
    
        <li>

<dl>
    <dt>
        <div class="param-desc">
        <p>when supplied parameters <code>fmt</code> or <code>attStmt</code> are of the
wrong type</p>
        </div>
    </dt>
    <dd></dd>
    <dt>
        <dl>
            <dt>
                Type
            </dt>
            <dd>
                
<span class="param-type">TypeError</span>


            </dd>
        </dl>
    </dt>
    <dd></dd>
</dl>

</li>
    </ul>


<h5>Returns:</h5>

        
<div class="param-desc">
    <p>A Map of all the attestation fields that were parsed.
At this point the fields have not yet been verified.</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Map</span>


    </dd>
</dl>

    


        
            

    

    <h4 class="name" id=".validateAttestation"><span class="type-signature">(async, static) </span>validateAttestation<span class="signature">()</span><span class="type-signature"></span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="main.js.html">main.js</a>, <a href="main.js.html#line370">line 370</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description">
    <p>Validates an attestation response. Will be called within the context (<code>this</code>) of a <a href="Fido2AttestationResult.html">Fido2AttestationResult</a></p>
</div>

























        
            

    

    <h4 class="name" id="assertionOptions"><span class="type-signature">(async) </span>assertionOptions<span class="signature">()</span><span class="type-signature"> &rarr; {Promise.&lt;<a href="global.html#PublicKeyCredentialRequestOptions">PublicKeyCredentialRequestOptions</a>>}</span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="main.js.html">main.js</a>, <a href="main.js.html#line213">line 213</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description">
    <p>Creates an assertion challenge and any other parameters for the <code>navigator.credentials.get()</code> call.
The <code>challenge</code> property is an <code>ArrayBuffer</code> and will need to be encoded to be transmitted to the client.</p>
</div>























<h5>Returns:</h5>

        
<div class="param-desc">
    <p>The options to be passed to <code>navigator.credentials.get()</code></p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise.&lt;<a href="global.html#PublicKeyCredentialRequestOptions">PublicKeyCredentialRequestOptions</a>></span>


    </dd>
</dl>

    


        
            

    

    <h4 class="name" id="assertionResult"><span class="type-signature">(async) </span>assertionResult<span class="signature">(res, expected)</span><span class="type-signature"> &rarr; {Promise.&lt;<a href="Fido2AssertionResult.html">Fido2AssertionResult</a>>}</span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="main.js.html">main.js</a>, <a href="main.js.html#line269">line 269</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description">
    <p>Parses and validates an assertion response from the client</p>
</div>











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>res</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last"><p>The assertion result that was generated by the client.
See <a href="https://w3.org/TR/webauthn/#authenticatorassertionresponse">AuthenticatorAssertionResponse</a> in the WebAuthn spec.</p>
                <h6>Properties</h6>
                

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>id</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>The base64url encoded id returned by the client</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>rawId</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>The base64url encoded rawId returned by the client. If <code>res.rawId</code> is missing, <code>res.id</code> will be used instead. If both are missing an error will be thrown.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>response.clientDataJSON</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"><p>The base64url encoded clientDataJSON returned by the client</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>response.authenticatorData</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"><p>The base64url encoded authenticatorData returned by the client</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>signature</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"><p>The base64url encoded signature returned by the client</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>userHandle</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>
|

<span class="param-type">null</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>The base64url encoded userHandle returned by the client. May be null or an empty string.</p></td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>expected</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last"><p>The expected parameters for the assertion response.
If these parameters don't match the recieved values, validation will fail and an error will be thrown.</p>
                <h6>Properties</h6>
                

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>challenge</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last"><p>The base64url encoded challenge that was sent to the client, as generated by <a href="Fido2Lib.html#assertionOptions">assertionOptions</a></p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>origin</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last"><p>The expected origin that the authenticator has signed over. For example, &quot;https://localhost:8443&quot; or &quot;https://webauthn.org&quot;</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>factor</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last"><p>Which factor is expected for the assertion. Valid values are &quot;first&quot;, &quot;second&quot;, or &quot;either&quot;.
If &quot;first&quot;, this requires that the authenticator performed user verification (e.g. - biometric authentication, PIN authentication, etc.).
If &quot;second&quot;, this requires that the authenticator performed user presence (e.g. - user pressed a button).
If &quot;either&quot;, then either &quot;first&quot; or &quot;second&quot; is acceptable</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>publicKey</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last"><p>A PEM encoded public key that will be used to validate the assertion response signature.
This is the public key that was returned for this user during <a href="Fido2Lib.html#attestationResult">attestationResult</a></p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>prevCounter</code></td>
            

            <td class="type">
            
                
<span class="param-type">Number</span>


            
            </td>

            

            

            <td class="description last"><p>The previous value of the signature counter for this authenticator.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>userHandle</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>
|

<span class="param-type">null</span>


            
            </td>

            

            

            <td class="description last"><p>The expected userHandle, which was the user.id during registration</p></td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    
    </tbody>
</table>












<h5>Throws:</h5>

        

<dl>
    <dt>
        <div class="param-desc">
        <p>If parsing or validation fails</p>
        </div>
    </dt>
    <dd></dd>
    <dt>
        <dl>
            <dt>
                Type
            </dt>
            <dd>
                
<span class="param-type">Error</span>


            </dd>
        </dl>
    </dt>
    <dd></dd>
</dl>


    


<h5>Returns:</h5>

        
<div class="param-desc">
    <p>Returns a Promise that resolves to a <a href="Fido2AssertionResult.html">Fido2AssertionResult</a></p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise.&lt;<a href="Fido2AssertionResult.html">Fido2AssertionResult</a>></span>


    </dd>
</dl>

    


        
            

    

    <h4 class="name" id="attestationOptions"><span class="type-signature">(async) </span>attestationOptions<span class="signature">()</span><span class="type-signature"> &rarr; {Promise.&lt;<a href="global.html#PublicKeyCredentialCreationOptions">PublicKeyCredentialCreationOptions</a>>}</span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="main.js.html">main.js</a>, <a href="main.js.html#line120">line 120</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description">
    <p>Gets a challenge and any other parameters for the <code>navigator.credentials.create()`</code> call
The <code>challenge</code> property is an <code>ArrayBuffer</code> and will need to be encoded to be transmitted to the client.</p>
</div>























<h5>Returns:</h5>

        
<div class="param-desc">
    <p>The options for creating calling <code>navigator.credentials.create()</code></p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise.&lt;<a href="global.html#PublicKeyCredentialCreationOptions">PublicKeyCredentialCreationOptions</a>></span>


    </dd>
</dl>

    


        
            

    

    <h4 class="name" id="attestationResult"><span class="type-signature">(async) </span>attestationResult<span class="signature">(res, expected)</span><span class="type-signature"> &rarr; {Promise.&lt;<a href="Fido2AttestationResult.html">Fido2AttestationResult</a>>}</span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="main.js.html">main.js</a>, <a href="main.js.html#line202">line 202</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description">
    <p>Parses and validates an attestation response from the client</p>
</div>











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>res</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last"><p>The assertion result that was generated by the client.
See <a href="https://w3.org/TR/webauthn/#authenticatorattestationresponse">AuthenticatorAttestationResponse</a> in the WebAuthn spec.</p>
                <h6>Properties</h6>
                

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>id</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>The base64url encoded id returned by the client</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>rawId</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>The base64url encoded rawId returned by the client. If <code>res.rawId</code> is missing, <code>res.id</code> will be used instead. If both are missing an error will be thrown.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>response.clientDataJSON</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"><p>The base64url encoded clientDataJSON returned by the client</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>response.authenticatorData</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"><p>The base64url encoded authenticatorData returned by the client</p></td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>expected</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last"><p>The expected parameters for the assertion response.
If these parameters don't match the recieved values, validation will fail and an error will be thrown.</p>
                <h6>Properties</h6>
                

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>challenge</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last"><p>The base64url encoded challenge that was sent to the client, as generated by <a href="Fido2Lib.html#assertionOptions">assertionOptions</a></p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>origin</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last"><p>The expected origin that the authenticator has signed over. For example, &quot;https://localhost:8443&quot; or &quot;https://webauthn.org&quot;</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>factor</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last"><p>Which factor is expected for the assertion. Valid values are &quot;first&quot;, &quot;second&quot;, or &quot;either&quot;.
If &quot;first&quot;, this requires that the authenticator performed user verification (e.g. - biometric authentication, PIN authentication, etc.).
If &quot;second&quot;, this requires that the authenticator performed user presence (e.g. - user pressed a button).
If &quot;either&quot;, then either &quot;first&quot; or &quot;second&quot; is acceptable</p></td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    
    </tbody>
</table>












<h5>Throws:</h5>

        

<dl>
    <dt>
        <div class="param-desc">
        <p>If parsing or validation fails</p>
        </div>
    </dt>
    <dd></dd>
    <dt>
        <dl>
            <dt>
                Type
            </dt>
            <dd>
                
<span class="param-type">Error</span>


            </dd>
        </dl>
    </dt>
    <dd></dd>
</dl>


    


<h5>Returns:</h5>

        
<div class="param-desc">
    <p>Returns a Promise that resolves to a <a href="Fido2AttestationResult.html">Fido2AttestationResult</a></p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise.&lt;<a href="Fido2AttestationResult.html">Fido2AttestationResult</a>></span>


    </dd>
</dl>

    


        
    

    

    
</article>

</section>




</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a> on Wed Jun 06 2018 05:31:39 GMT+0000 (UTC) using the <a href="https://github.com/clenemt/docdash">docdash</a> theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>
</body>
</html>